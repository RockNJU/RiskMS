<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
		<package name="admin" namespace="/admin" extends="struts-default">
		<action name="login" class="edu.rms.action.LoginAction" method="userLogin">
			<result name="input-admin">/admin/login.jsp</result>
			<result name="input">/user/login.jsp</result>
			<result name="input-user">/user/login.jsp</result>
			<result name="admin" type="chain">
				<param name="actionName">showAllUser</param>
				</result>
				<result name="manager" type="chain">
				<param name="actionName">showAllRiskItemForManager</param>
				</result>
				<result name="developer" type="chain">
				<param name="actionName">showAllRiskItemForDeveloper</param>
				</result>
		</action>

		<action name="showAllUser" class="edu.rms.action.LoginAction" method="getAllUser">
			<result name="success">/admin/admin.jsp</result>
		</action>
	
		<action name="addUser" class="edu.rms.action.LoginAction" method="addUser">
			<result name="input">/admin/admin.jsp</result>
			<result name="success" type="chain">
				<param name="actionName">showAllUser</param>
			</result>
		</action>
		
<!-- ##########Manager#####我是分割线###################### -->

		<action name="showAllRiskItemForManager" class="edu.rms.action.RiskItemAction" method="getAllRiskItem">
			<result name="success">/user/riskItemMng.jsp</result>
		</action>
	
		<action name="addRiskItem" class="edu.rms.action.RiskItemAction" method="addRiskItem">
			<result name="input">/user/riskItemMng.jsp</result>
			<result name="success" type="chain">
				<param name="actionName">showAllRiskItemForManager</param>
			</result>
		</action>
		
		<action name="showItemStateList" class="edu.rms.action.RiskStateTrackAction" method="getOneRiskAllStates">
			<result name="success">/user/itemStateListMng.jsp</result>
		</action>

	
<!-- ########Developer####我是分割线###################### -->
		<action name="showAllRiskItemForDeveloper" class="edu.rms.action.RiskItemAction" method="getAllRiskItem">
			<result name="success" type="chain">
				<param name="actionName">showRiskItemOfDeveloper</param>
			</result>
		</action>
		
		<action name="showRiskItemOfDeveloper" class="edu.rms.action.RiskItemAction" method="getMyRiskItem">
			<result name="success">/user/riskItemDev.jsp</result>
		</action>
		
		<action name="showItemStateListModify" class="edu.rms.action.RiskStateTrackAction" method="getOneRiskAllStates">
			<result name="success">/user/itemStateListDevModify.jsp</result>
		</action>
		
		<action name="showItemStateListShow" class="edu.rms.action.RiskStateTrackAction" method="getOneRiskAllStates">
			<result name="success">/user/itemStateListDevShow.jsp</result>
		</action>
				<action name="itemTurnProblem" class="edu.rms.action.RiskStateTrackAction" method="turnProblem">
			<result name="success">/user/modifyState.jsp</result>
		</action>
		
		<action name="updateState" class="edu.rms.action.RiskStateTrackAction" method="addProblem">
			<result name="input">/user/modifyState.jsp</result>
			<result name="success" type="chain">
				<param name="actionName">showItemStateListModify</param>
			</result>
		</action>
		
		<action name="addRiskState" class="edu.rms.action.RiskStateTrackAction" method="save">
			<result name="input">/user/itemStateListDevModify.jsp</result>
			<result name="success" type="chain">
				<param name="actionName">showItemStateListModify</param>
			</result>
		</action>
</package>
</struts>

